<!doctype html>
<html>
  <head>
    <title>Kenya Emergency Contacts</title>
    <link rel="stylesheet" type="text/css" href="./css/styles.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/tomickigrzegorz/autocomplete@2.0.2/dist/css/autocomplete.min.css"
    />
    <script type="module">
      //     import "./js/contactsData.js";
    </script>
    <style></style>
    <script src="https://cdn.jsdelivr.net/gh/tomickigrzegorz/autocomplete@2.0.2/dist/js/autocomplete.min.js"></script>
  </head>
  <body>
    <h1>Kenya Emergency Contacts</h1>

    <div class="buttons">
      <button
        onclick="showContacts('Medical')"
        aria-label="Show Medical Contacts"
      >
        Medical
      </button>
      <button onclick="showContacts('Fire')" aria-label="Show Fire Contacts">
        Fire
      </button>
      <button
        onclick="showContacts('Police')"
        aria-label="Show Police Contacts"
      >
        Police
      </button>
      <button
        onclick="showContacts('Child & Family Services')"
        aria-label="Show Child & Family Services Contacts"
      >
        Child & Family
      </button>
      <button
        onclick="showContacts('Utilities & Essential Services')"
        aria-label="Show Utilities & Essential Services Contacts"
      >
        Utilities
      </button>
      <button
        onclick="showContacts('Roadside Assistance')"
        aria-label="Show Roadside Assistance Contacts"
      >
        Roadside
      </button>
      <button
        onclick="showContacts('Natural Disasters')"
        aria-label="Show Natural Disasters Contacts"
      >
        Natural Disasters
      </button>
      <button onclick="showContacts('Other')" aria-label="Show Other Contacts">
        Other
      </button>
    </div>

    <!-- Dynamic contacts display -->
    <div id="contacts"></div>
    <div class="container">
      <div>
        <div class="service-label">Emergency Address</div>
        <div class="input-container auto-search-wrapper" style="display: flex">
          <input
            type="text"
            autocomplete="off"
            id="search"
            class="full-width"
            placeholder="TYPE AND SELECT"
          />
          <div
            class="locate-icon"
            onclick="getUserLocation()"
            aria-label="Locate me"
          >
            <img
              src="./assets/map.png"
              alt="click here to use autolocate this device"
              id="locatorIcon"
            />
            <!--<a href="https://www.flaticon.com/free-icons/ui" title="ui icons"
              >Ui icons created by Yudhi Restu - Flaticon</a
            >-->
          </div>
        </div>
      </div>
      <button class="order-btn">Call now</button>
    </div>
    <!-- Feedback Button -->
    <button
      id="feedback-btn"
      class="order-btn"
      style="background-color: #28a745; margin-top: 20px"
      aria-label="Give Feedback"
    >
      Feedback
    </button>

    <!-- Feedback Modal Form -->
    <div
      id="feedback-modal"
      style="
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        align-items: center;
        justify-content: center;
      "
    >
      <div
        style="
          background: #fff;
          padding: 20px;
          border-radius: 8px;
          max-width: 400px;
          width: 90%;
        "
      >
        <h2>Suggest Missing Contacts</h2>
        <label for="feedback-text">Contact Information:</label>
        <textarea
          id="feedback-text"
          rows="4"
          style="width: 100%; margin-top: 8px"
        ></textarea>
        <div style="text-align: right; margin-top: 10px">
          <button
            onclick="submitFeedback()"
            class="order-btn"
            style="background-color: #007bff"
          >
            Submit
          </button>
          <button
            onclick="closeModal()"
            class="order-btn"
            style="background-color: #dc3545"
          >
            Close
          </button>
        </div>
      </div>
    </div>

    <div id="map" style="height: 700px"></div>
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script src="./js/script.js"></script>
  </body>
</html>
